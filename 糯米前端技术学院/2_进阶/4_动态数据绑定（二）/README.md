# 动态数据绑定（二）

## 任务目的
1. 在实践中使用递归思想
2. 了解设计模式中的“发布-订阅模式”

## 任务描述
1. 解决传入参数对象是一个“比较深”的对象（也就是其属性值也可能是对象）的问题
2. 解决设置新的值为一个对象
3. 考虑传递回调函数。当数据更改时，会调用回调函数

## 知识点
### 针对问题1解决方法
采用深度遍历方法，遍历传入参数对象，

### 针对问题2
在`[[set]]`属性中，添加下面语句
```JavaScript
if (typeof newVal === 'object') {
    new Observer(val);
  }
```
如果属性值为对象，则再次调用`Observer`构造函数

### 针对问题3
需要采用发布-订阅模式，实现`$watch`API需调用发布模式，然后在`[[set]]`属性中，实现订阅模式。

## 结果
![](http://i.imgur.com/rUtlazl.jpg)
